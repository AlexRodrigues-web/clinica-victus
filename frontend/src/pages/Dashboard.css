/* =========================================================
   DASHBOARD — Replica fiel do mock (cores e medidas calibradas)
   ========================================================= */

/* Reset + consistência tipográfica entre SOs */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* Paleta medida do mock (hex extraídos do print) */
:root{
  --vc-bg: #ffffff;
  --vc-ink: #1b1b1b;

  /* tons rosé usados nos cards (muito claros, quase off-white) */
  --vc-rose-25:  #f7efeb;  /* fundo do card de progresso (medido)   */
  --vc-rose-50:  #f8f2f1;  /* base clara dos cards (medido)         */
  --vc-rose-100: #f4f1f0;  /* fundo do card de eventos (medido)     */
  --vc-rose-200: #d7b4af;  /* tom médio do rosa metálico (medido)   */

  /* blend metálico (faixas tiradas do print) */
  --vc-rose-metal-a: #dfc3b9; /* luz média */
  --vc-rose-metal-b: #dbc8c5; /* centro    */
  --vc-rose-metal-c: #cfaeaa; /* sombra    */
  --vc-rose-glow:    rgba(255,255,255,.38);

  /* dourado do anel — calibrado no mock */
  --vc-gold: #caa55a; /* dourado suave, levemente “areia” */

  /* UI */
  --vc-border: #e6e1de;
  --vc-shadow: 0 8px 18px rgba(0,0,0,.06);
}

/* ====== Container ====== */
.dashboard-container {
  padding: clamp(16px, 3.8vw, 24px);
  background-color: var(--vc-bg);
  min-height: 100vh;
  font-family: -apple-system, "SF Pro Text", "SF Pro Display", Inter, system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  color: var(--vc-ink);
}

/* ====== Topo ====== */
.dashboard-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: clamp(16px, 3.8vw, 22px);
}

.dashboard-top h2 {
  font-size: clamp(1.12rem, 3.8vw, 1.35rem);
  font-weight: 700;
  color: #111;
  margin: 0;
}
.dashboard-top h2 span { font-weight: 800; letter-spacing: .1px; }

.dashboard-icons { display: flex; gap: 16px; margin-top: 2px; }

.icon-button{
  position: relative;
  background: #000;
  color: #fff;
  border: none;
  padding: 8px;
  border-radius: 999px;
  cursor: pointer;
  transition: transform .15s ease, background .25s ease, box-shadow .25s ease;
  box-shadow: 0 2px 6px rgba(0,0,0,.08);
}
.icon-button:hover{ transform: scale(1.05); background:#111; box-shadow: 0 4px 10px rgba(0,0,0,.12); }
.icon-button:focus-visible{ outline:2px solid #111; outline-offset:2px; }

.icon-button .badge-top{
  position: absolute;
  top: -4px; right: -4px;
  min-width: 16px; height: 16px; padding: 0 4px;
  border-radius: 999px;
  background: #ffc107; color: #000;
  font-size: 10px; line-height: 16px; text-align: center;
}

/* ====== Card base ====== */
.dashboard-card{
  background: var(--vc-rose-50);
  border-radius: 16px;
  padding: 1.5rem;
  margin-bottom: 1.25rem;
  box-shadow: var(--vc-shadow);
}

/* ====== Boas-vindas (carrossel) ====== */
.welcome-card{
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: clamp(8px, 2.5vw, 16px);
  background: var(--vc-rose-50);
  padding: clamp(14px, 3.2vw, 20px) clamp(16px, 3.8vw, 24px);
  border-radius: 16px;
  box-shadow: var(--vc-shadow);
}

.welcome-text h3{
  font-size: clamp(1rem, 2.9vw, 1.25rem);
  color:#000;
  margin:.25rem 0 .5rem;
  letter-spacing:.1px;
}
.welcome-text p{
  font-size: clamp(.92rem, 2.6vw, 1rem);
  color:#333;
  margin:0 0 1rem;
}
.welcome-button{
  background:#000; color:#fff; border:none; border-radius:10px;
  padding:.55rem 1rem; font-weight:700; letter-spacing:.2px; cursor:pointer;
}

/* imagem do card */
.welcome-image{
  width: clamp(28%, 32vw, 36%);
  text-align:center;
  min-width: 84px;
}
.welcome-image img{
  width: 100%;
  max-width: clamp(100px, 24vw, 140px);
  border-radius:12px;
}

/* carrossel */
.welcome-carousel{
  width:100%;
  max-width: 680px;
  margin:0 auto;
  position:relative;
  overflow:hidden;
  padding-bottom: clamp(10px, 2vw, 14px);
}
.carousel-item{ opacity:0; transform: translateY(8px); transition: .45s ease; }
.carousel-item.active{ opacity:1; transform:none; }
.carousel-dots{
  position:absolute; bottom: clamp(8px, 1.8vw, 12px);
  left:50%; transform:translateX(-50%);
  display:flex; gap: clamp(4px, 1vw, 8px);
}
.dot{ width: clamp(6px,1.6vw,8px); height: clamp(6px,1.6vw,8px); background:#d7d2cf; border-radius:50%; cursor:pointer; }
.dot.active{ width: clamp(7px,1.9vw,10px); height: clamp(7px,1.9vw,10px); background:#000; }

/* estreitas */
@media (max-width: 360px){
  .welcome-card{ align-items: flex-start; }
  .welcome-text p{ margin-bottom: .75rem; }
}

/* ====== Lembrete do dia (rosa metálico) ====== */
section.dashboard-card.reminder-card{
  background:
    radial-gradient(140% 100% at -10% -20%,
      rgba(255,255,255,.65) 0%,
      rgba(255,255,255,0) 56%),
    conic-gradient(from 210deg at 65% 0%,
      rgba(255,255,255,0) 0 10%,
      rgba(255,255,255,.35) 16%,
      rgba(255,255,255,0) 26% 52%,
      rgba(255,255,255,.18) 58%,
      rgba(255,255,255,0) 72% 100%),
    linear-gradient(135deg,
      var(--vc-rose-metal-a) 0%,
      var(--vc-rose-metal-b) 36%,
      var(--vc-rose-metal-c) 72%,
      #e9d9d7 100%),
    radial-gradient(120% 120% at 110% 110%,
      rgba(0,0,0,.06) 0%,
      rgba(0,0,0,0) 60%),
    repeating-linear-gradient(-12deg,
      rgba(255,255,255,.06) 0 1px,
      rgba(255,255,255,0) 1px 6px);
  background-blend-mode: screen, overlay, normal, multiply, soft-light;

  border-radius: 16px;
  padding: 20px 16px;
  margin: 14px auto 22px;
  max-width: 600px;
  text-align: center;
  position: relative;
  overflow: hidden;

  border: 1px solid rgba(255,255,255,.75);
  box-shadow:
    0 10px 20px rgba(0,0,0,.08),
    inset 0 1px 0 rgba(255,255,255,.45),
    inset 0 -1px 0 rgba(0,0,0,.06),
    var(--vc-shadow);
}

/* brilho diagonal */
section.dashboard-card.reminder-card::before{
  content:"";
  position:absolute; top:-20%; right:-20%; bottom:-20%; left:-20%;
  background: linear-gradient(140deg,
    rgba(255,255,255,0) 0%,
    rgba(255,255,255,.35) 18%,
    rgba(255,255,255,0) 36%);
  mix-blend-mode: soft-light;
  pointer-events:none;
}

/* micro-bisel premium */
section.dashboard-card.reminder-card::after{
  content:"";
  position:absolute; inset:0;
  border-radius: inherit;
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.35),
    inset 0 20px 40px rgba(255,255,255,.04);
  pointer-events:none;
}

section.dashboard-card.reminder-card > h4{
  margin:0 0 10px;
  font-size:1.02rem; letter-spacing:.3px;
  font-weight:900; color:#111; text-transform:uppercase;
}
.reminder-table{ display:inline-table; margin:0 auto; border-collapse:collapse; }
.reminder-table td{
  padding: 2px 0 6px;
  font-size: .98rem; font-weight:600; color:#111; line-height:1.45;
  white-space: pre-wrap;
}

/* ====== Linha Progresso + Eventos ====== */
.dashboard-row{ display:flex; flex-wrap:wrap; gap:12px; }

/* ---- Progresso (anel dourado) ---- */
.progress-card{
  flex:1;
  min-width:160px;
  background: var(--vc-rose-25);
  border-radius:16px;
  box-shadow: var(--vc-shadow);
  display:flex; align-items:center; justify-content:center;
  padding:12px;
}

.circle-progress{ position:relative; width:128px; height:128px; }
.circular-chart{
  display:block; width:128px; height:128px;
  transform:rotate(-90deg); /* inicia no topo */
  overflow:visible;

  /* propriedades para controlar o progresso sem JS extra */
  --size: 128;
  --stroke: 12;
  --radius: 56; /* ~ (size - stroke)/2, calibrado no mock */
  --circumference: calc(2 * 3.1415926535 * var(--radius));
  --progress: .45; /* 45% ~ arco do print */
}

/* disco branco interno */
.disk{ fill:#fff; }

/* aro branco de fundo */
.ring-bg{
  fill:none;
  stroke:#fff;
  stroke-width:12;
  opacity:.98;
}

/* arco dourado com brilho esmaltado */
.ring{
  fill:none;
  stroke: var(--vc-gold);
  stroke-width:12;
  stroke-linecap:round;
  filter:
    drop-shadow(0 0 1px rgba(255,255,255,.45))
    drop-shadow(0 2px 3px rgba(0,0,0,.12));
  stroke-dasharray: var(--circumference);
  stroke-dashoffset: calc(var(--circumference) * (1 - var(--progress)));
  transition: stroke-dashoffset .6s ease;
}

/* texto central */
.progress-text{
  position:absolute; inset:0;
  display:grid; place-items:center;
  text-align:center; color:#141313;
}
.progress-kg{
  font-size:1.08rem;
  font-weight:800;
  letter-spacing:.1px;
  line-height:1;
}
.progress-kg span{
  font-size:.9rem;
  font-weight:700;
  color:#141313;
}
.progress-sub{
  font-size:.9rem;
  color:#141313;
  margin-top:2px;
  text-align:center;
}

/* ---- Próximos eventos (exatamente como no print) ---- */
.events-card{
  flex:1; min-width:160px; max-width:300px;
  background: var(--vc-rose-100);
  padding:12px;
  border-radius:16px;
  box-shadow: var(--vc-shadow);
}
.events-card h4{
  margin:0 0 10px;
  font-size:.95rem;
  font-weight:800;
  color:#111;
}
.events-list{ display:flex; flex-direction:column; gap:6px; }

.event-row{ display:flex; }

/* caixinha da data (58px como no print) */
.event-date{
  flex:0 0 58px;
  background:#fff;
  border:1px solid var(--vc-border);
  border-right:none;
  border-top-left-radius:12px;
  border-bottom-left-radius:12px;
  text-align:center;
  padding:8px 0;
  font-size:.9rem;
  font-weight:700;
  color:#333;
  line-height:1;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.85);
}

/* caixinha do título */
.event-name{
  flex:1;
  background:#fff;
  border:1px solid var(--vc-border);
  border-left:none;
  border-top-right-radius:12px;
  border-bottom-right-radius:12px;
  padding:8px 12px;
  font-size:.9rem;
  font-weight:600;
  color:#333;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.85);
}

/* linha “+ 1 evento” com mesma espessura/bisel */
.event-row.event-more{
  justify-content:center; align-items:center;
  background:#fff;
  border:1px solid var(--vc-border);
  border-radius:12px;
  font-weight:600;
  color:#333;
  padding:8px 0;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.85);
}

.event-empty{ color:#666; }

/* ====== Logout ====== */
.dashboard-logout{ text-align:center; margin-top: 1.6rem; }
.logout-button{
  background:#f87171; color:#fff; border:none; border-radius:10px;
  padding:.6rem 1.3rem; font-weight:800; cursor:pointer;
  transition: background .25s ease;
}
.logout-button:hover{ background:#ef4444; }

/* ====== Responsivo ====== */
@media (max-width:390px){
  .circle-progress{ width: 120px; height: 120px; }
  .circular-chart{ width: 120px; height: 120px; --radius: 54; }
  .progress-kg{ font-size: 1.04rem; }
  .progress-sub{ font-size: .88rem; }
}
@media (max-width:768px){
  .dashboard-row{ flex-direction:row; }
  .welcome-card{ flex-direction:column; text-align:center; }
  .welcome-image{ margin-top:1rem; }
  .welcome-carousel{ max-width:90%; }
}

/* ===========================
   MODAL (Grupos/Alertas/Mensagens)
   =========================== */

:root {
  --dash-accent: #caa55a;   /* o mesmo dourado do dashboard */
  --dash-bg: #ffffff;
  --dash-border: #ececec;
  --dash-text: #1f2937;
  --dash-sub: #6b7280;
}

/* backdrop */
.dash-panel {
  position: fixed;
  inset: 0;
  background: rgba(17, 24, 39, 0.45);
  display: grid;
  place-items: center;
  z-index: 1000;
  animation: dashFadeIn 160ms ease-out;
}

/* caixa do modal */
.dash-panel-box {
  width: min(92vw, 560px);
  max-height: min(82vh, 760px);
  background: var(--dash-bg);
  border: 1px solid var(--dash-border);
  border-radius: 16px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.14);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  animation: dashSlideUp 180ms ease-out;
}

/* header do modal */
.dash-panel-header {
  position: sticky;
  top: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 14px 16px;
  background: linear-gradient(180deg, #ffffff, #fafafa);
  border-bottom: 1px solid var(--dash-border);
}

.dash-panel-header strong {
  font-size: 1.05rem;
  color: var(--dash-text);
  letter-spacing: 0.2px;
}

/* botão fechar do modal (apenas dentro do modal) */
.dash-panel .dash-panel-close {
  appearance: none;
  border: 0;
  background: transparent;
  width: 36px;
  height: 36px;
  border-radius: 10px;
  font-size: 20px;
  line-height: 1;
  color: #6b7280;
  cursor: pointer;
}
.dash-panel .dash-panel-close:hover { background: rgba(0,0,0,0.06); color: #374151; }
.dash-panel .dash-panel-close:focus-visible { outline: 2px solid var(--dash-accent); outline-offset: 2px; }

/* corpo rolável */
.dash-panel-body {
  overflow: auto;
  padding: 10px 12px 14px;
}

/* bloco de item */
.dash-item {
  position: relative;
  border: 1px solid var(--dash-border);
  background: #fff;
  border-radius: 12px;
  padding: 12px 14px;
  margin: 8px 6px;
  transition: transform 120ms ease, box-shadow 120ms ease, border-color 120ms ease, background 120ms ease;
}

/* filete lateral de destaque */
.dash-item::before {
  content: "";
  position: absolute;
  left: -1px;
  top: 10px;
  bottom: 10px;
  width: 3px;
  border-radius: 4px;
  background: var(--dash-accent);
  opacity: 0.9;
}

.dash-item:hover {
  transform: translateY(-1px);
  box-shadow: 0 10px 22px rgba(0,0,0,0.08);
  border-color: #e8e8e8;
}

/* título e subtítulo do item */
.dash-item-title {
  color: var(--dash-text);
  font-weight: 600;
  font-size: 0.98rem;
  line-height: 1.3;
  margin-bottom: 6px;
  word-break: break-word;
}

.dash-item-sub {
  color: var(--dash-sub);
  font-size: 0.88rem;
  line-height: 1.35;
  white-space: pre-wrap;
  word-break: break-word;
}

/* estado vazio */
.dash-empty {
  text-align: center;
  color: #9ca3af;
  padding: 22px 10px;
  font-size: 0.95rem;
}

/* scrollbar suave só dentro do modal */
.dash-panel-body::-webkit-scrollbar { width: 10px; }
.dash-panel-body::-webkit-scrollbar-track { background: #fafafa; border-radius: 10px; }
.dash-panel-body::-webkit-scrollbar-thumb { background: #d8d8d8; border-radius: 10px; }
.dash-panel-body::-webkit-scrollbar-thumb:hover { background: #c9c9c9; }

/* animações */
@keyframes dashFadeIn {
  from { opacity: 0; } to { opacity: 1; }
}
@keyframes dashSlideUp {
  from { transform: translateY(8px); opacity: 0.96; }
  to   { transform: translateY(0);   opacity: 1; }
}

/* responsivo */
@media (max-width: 520px) {
  .dash-panel-box { width: 94vw; max-height: 86vh; }
  .dash-item { margin: 8px 0; }
  .dash-panel-header { padding: 12px 14px; }
}

/* Acessibilidade/OS: respeita quem prefere menos animação */
@media (prefers-reduced-motion: reduce){
  * { animation: none !important; transition: none !important; }
}

/* ===========================
   Barra inferior (tabs) — como no mock
   =========================== */
.bottom-nav{
  position: fixed;
  left: 0; right: 0; bottom: 0;
  background: #fff;
  border-top: 1px solid #eee;
  display: grid;
  grid-template-columns: 1fr 1fr auto 1fr 1fr;
  align-items: center;
  padding: 8px 14px env(safe-area-inset-bottom);
  z-index: 999;
}

.bottom-nav__item{
  display:flex; flex-direction:column; align-items:center; gap:4px;
  font-size:.75rem; color:#8b8b8b; text-decoration:none;
}
.bottom-nav__item svg, .bottom-nav__item i{ font-size:20px; line-height:1; }
.bottom-nav__item--active{ color:#d7b4af; } /* rosé ativo do mock */

.bottom-nav__fab{
  position:relative;
  width:54px; height:54px; border-radius:50%;
  background:#e9c9c1;
  display:grid; place-items:center;
  margin: -22px auto 0;
  box-shadow: 0 8px 16px rgba(0,0,0,.14), inset 0 1px 0 rgba(255,255,255,.8);
}
.bottom-nav__fab::after{
  content:""; position:absolute; inset:0; border-radius:inherit;
  background: radial-gradient(120% 120% at 30% 20%, rgba(255,255,255,.65), rgba(255,255,255,0) 60%);
  mix-blend-mode: screen; pointer-events:none;
}
.bottom-nav__fab i, .bottom-nav__fab svg{ color:#fff; font-size:22px; }

/* espaçamento do conteúdo para não ficar sob a barra */
.has-bottom-nav { padding-bottom: 84px; }

/* =========================================================
   OVERRIDES PARA FICAR 1:1 COM O MOCK (sem quebrar nada)
   ========================================================= */

/* Ícones do topo “ghost” (sem cápsula) */
.icon-button--ghost{
  background: transparent !important;
  color: #111 !important;
  box-shadow: none !important;
  padding: 0 !important;
  width: 26px; height: 26px;
  border-radius: 0;
  display: grid; place-items: center;
  transform: none !important;
}
.icon-button--ghost:hover{ opacity: .85; }

/* Dots do carrossel alinhados à esquerda, logo abaixo do texto */
.welcome-carousel{ padding-bottom: 0 !important; }
.carousel-dots{
  position: static !important;
  left: auto !important;
  transform: none !important;
  margin-top: 8px !important;
  justify-content: flex-start !important;
}
.dot{ width: 6px !important; height: 6px !important; background: #d9d4d2 !important; border-radius: 999px; }
.dot.active{ width: 7px !important; height: 7px !important; background: #111 !important; }

/* Botão do carrossel levemente mais compacto como no mock */
.welcome-button{ padding: .5rem .9rem; font-weight: 800; }

/* Calibração do arco dourado (cor e brilho) */
.ring{
  stroke: var(--vc-gold) !important;
  stroke-width: 12 !important;
  filter:
    drop-shadow(0 0 1px rgba(255,255,255,.45))
    drop-shadow(0 2px 3px rgba(0,0,0,.10));
}

/* Chips dos eventos — altura/tipografia iguais ao print */
.event-date{ padding: 9px 0 8px; font-size: .88rem; }
.event-name{ padding: 9px 12px 8px; font-size: .88rem; }
.event-row.event-more{ padding: 9px 0 8px; font-size: .9rem; }

/* Título levemente mais compacto */
.dashboard-top h2{ font-size: 1.125rem; letter-spacing: .1px; }
